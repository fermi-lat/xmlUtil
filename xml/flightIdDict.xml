  <idDict major="1" minor="0" patch="0">
    <idRoot name="topObjects" >
      <vList>
        <enumVal valueREF="eRootLAT" />
        <enumVal valueREF="eRootPanels" />
        <enumVal valueREF="eRootSC" />
      </vList>
    </idRoot>

    <field name="fLATObjects" >
      <vList>
        <enumVal valueREF="eLATTowers" />
        <enumVal valueREF="eLATACD" />
      </vList>
    </field>

    <field name="fTowerY" >
      <vMinMax min="0" maxREF="yNumM1" />
    </field>

    <field name="fTowerX" >
      <vMinMax min="0" maxREF="xNumM1" />
    </field>

    <field name="fTowerObjects" >
      <vList>
        <enumVal valueREF="eTowerTKR" />
        <enumVal valueREF="eTowerCAL" />
      </vList>
    </field>

    <field name="fMeasure" >
      <vList>
        <enumVal valueREF="eMeasureX" />
        <enumVal valueREF="eMeasureY" />
      </vList>
    </field>

    <field name="fLayer" />

    <field name="fCALLog" >
      <vMinMax min="0" maxREF="maxLog" />
    </field>

    <field name="fCALLogCmp" >
      <vList>
        <enumVal valueREF="eLogXtal" />
        <enumVal valueREF="eDiodeMSmall" />
        <enumVal valueREF="eDiodePSmall" />
        <enumVal valueREF="eDiodeMLarge" />
        <enumVal valueREF="eDiodePLarge" />
      </vList>
    </field>

    <field name="fACDFace" >
      <vMinMax minREF="eACDTopFace" maxREF="eACDYPosFace" /> 
    </field>

    <field name="fLadder" >
      <vMinMax min="0" maxREF="nLadderM1" />
    </field>
<!-- constraints for these depend on which side we're in -->
    <field name="fRow" />

    <field name="fCol" />

    <field name="fTKRTray" >
      <vMinMax min="0" maxREF="maxTray" />
    </field>

    <field name="fTKRTrayCmp" >
      <vList>
        <enumVal valueREF="eTKRSiBottom" />
        <enumVal valueREF="eTKRSiTop" />
      </vList>
    </field>

    <!-- subsequences to conveniently refer to each subdetector -->
    <absSubseq name="absSubCAL" >
      <theIdRoot>
        <enumVal valueREF="LAT" />
      </theIdRoot>
      <fieldRef refTo="fLATObjects" >
         <enumVal valueREF="eLATTowers" />
      </fieldRef>
      <fieldRef refTo="fTowerY" />
      <fieldRef refTo="fTowerX" />
      <fieldRef refTo="fTowerObjects" >
        <enumVal valueREF="eTowerCAL" />
      </fieldRef>
    </absSubseq>

    <absSubseq name="absSubTKR" >
      <theIdRoot>
        <enumVal valueREF="LAT" />
      </theIdRoot>
      <fieldRef refTo="fLATObjects" >
         <enumVal valueREF="eLATTowers" />
      </fieldRef>
      <fieldRef refTo="fTowerY" />
      <fieldRef refTo="fTowerX" />
      <fieldRef refTo="fTowerObjects" >
        <enumVal valueREF="eTowerTKR" />
      </fieldRef>
    </absSubseq>

    <absSubseq name="absSubACD" >
      <theIdRoot>
        <enumVal valueREF="LAT" />
      </theIdRoot>
      <fieldRef refTo="fLATObjects" >
         <enumVal valueREF="eLATACD" />
      </fieldRef>
    </absSubseq>

<!-- Sequence to represent a CAL crystal.  May want to add segment
     for energy accounting. -->
    <seq name="seqLogXtal" >
      <absSubRef refTo="absSubCAL" />
      <fieldRef refTo="fLayer" >
        <vMinMax min="0" maxREF="CALMaxLayer" />
      </fieldRef>
      <fieldRef refTo="fMeasure" />
      <fieldRef refTo="fCALLog" />
      <fieldRef refTo="fCALLogCmp" >
        <enumVal valueREF="eLogXtal" />
      </fieldRef>
    </seq>

<!-- Sequence to represent a CAL diode. -->
    <seq name="seqLogDiode" >
      <absSubRef refTo="absSubCAL" />
      <fieldRef refTo="fLayer" >
        <vMinMax min="0" maxREF="CALMaxLayer" />
      </fieldRef>
      <fieldRef refTo="fMeasure" />
      <fieldRef refTo="fCALLog" />
      <fieldRef refTo="fCALLogCmp" >
        <vMinMax minREF="eDiodeMSmall" maxREF="eDiodePLarge" />
      </fieldRef>
    </seq>

<!-- Sequences to represent top or bottom Si on a tray -->
    <seq name="seqTKRTop" >   <!-- top tray has only bottom si -->
      <absSubRef refTo="absSubTKR"  />
      <fieldRef refTo="fTKRTray" >
        <enumVal valueREF="maxTray" />
      </fieldRef >
      <fieldRef refTo="fMeasure" />
      <fieldRef refTo="fTKRTrayCmp">
        <enumVal valueREF="eTKRSiBottom" />
      </fieldRef >
    </seq>

    <seq name="seqTKRBottom" >   <!-- bottom tray has only bottom si -->
      <absSubRef refTo="absSubTKR"  />
      <fieldRef refTo="fTKRTray" >
        <enumVal value="0" />
      </fieldRef >
      <fieldRef refTo="fMeasure" />
      <fieldRef refTo="fTKRTrayCmp">
        <enumVal valueREF="eTKRSiTop" />
      </fieldRef >
    </seq>

    <seq name="seqTKRInterior" >   <!-- bottom tray has only bottom si -->
      <absSubRef refTo="absSubTKR"  />
      <fieldRef refTo="fTKRTray" >
        <vMinMax min="1" maxREF="maxTrayM1" />
      </fieldRef >
      <fieldRef refTo="fMeasure" />
      <fieldRef refTo="fTKRTrayCmp" />
    </seq>

<!-- sequences for top face -->
    <seq name="seqACDTopTile" >
      <absSubRef refTo="absSubACD" />
      <fieldRef refTo="fACDFace" >
        <enumVal valueREF="eACDTopFace" />
      </fieldRef>
      <fieldRef refTo="fRow" >
        <vMinMax min="0" maxREF="XTopTileMax" />
      </fieldRef>
      <fieldRef refTo="fCol" >
        <vMinMax min="0" maxREF="YTopTileMax" />
      </fieldRef>
    </seq>

<!-- short rows of side faces -->
    <seq name="seqACDSideShortTile" >
      <absSubRef refTo="absSubACD" />
      <fieldRef refTo="fACDFace" >
        <vMinMax minREF="eACDXNegFace" maxREF="eACDYPosFace" />
      </fieldRef>
      <fieldRef refTo="fRow" >
        <vMinMax minREF="ACDShortRowMin" maxREF="ACDShortRowMax" />
      </fieldRef>
      <fieldRef refTo="fCol" >
        <vMinMax min="0" maxREF="ACDShortMaxCol" />
      </fieldRef>
    </seq>

<!-- long rows of side faces -->
    <seq name="seqACDSideShortTile" >
      <absSubRef refTo="absSubACD" />
      <fieldRef refTo="fACDFace" >
        <vMinMax minREF="eACDXNegFace" maxREF="eACDYPosFace" />
      </fieldRef>
      <fieldRef refTo="fRow" >
        <vMinMax minREF="ACDLongRowMin" maxREF="ACDLongRowMax" />
      </fieldRef>
      <fieldRef refTo="fCol" >
        <vMinMax min="0" maxREF="ACDLongMaxCol" />
      </fieldRef>
    </seq>

  </idDict>
